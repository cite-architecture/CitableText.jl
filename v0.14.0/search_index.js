var documenterSearchIndex = {"docs":
[{"location":"guide/#User's-guide:-the-CtsUrn","page":"The CtsUrn","title":"User's guide: the CtsUrn","text":"","category":"section"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"The CitableText module includes a panoply of functions for working with CtsUrns.  (The API documentation has a more complete list than those illutrated here).","category":"page"},{"location":"guide/#Top-level-components","page":"The CtsUrn","title":"Top-level components","text":"","category":"section"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"Include the CitableBase module to use its generic components and parts functions.","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"using CitableText, CitableBase\nurn = CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA:1.1\")\ncomponents(urn)","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"components(urn)[4] |> parts","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"You can also use functions in CitableText to extract components by name, and work with parts of those components.","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"namespace(urn)","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"workcomponent(urn)","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"passagecomponent(urn)","category":"page"},{"location":"guide/#The-work-component","page":"The CtsUrn","title":"The work component","text":"","category":"section"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"workdepth(urn)","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"workparts(urn)","category":"page"},{"location":"guide/#The-passage-component","page":"The CtsUrn","title":"The passage component","text":"","category":"section"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"passagedepth(urn)","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"passageparts(urn)","category":"page"},{"location":"guide/#URN-manipulation","page":"The CtsUrn","title":"URN manipulation","text":"","category":"section"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"Several functions take a CtsUrn as an argument, and create a new CtsUrn.","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"addversion(urn, \"rev2\")","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"dropversion(urn)","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"Similar functions are addworkid,   dropversion, addversion,  dropexemplar, addexemplar,  collapsePassageTo, and collapsePassageBy.","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"You could, for example, chain together dropversion and addworkid to turn a reference to a specific version of Iliad 1.1 into a generic reference to Odyssey 1.1.","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"# change \"tlg001\" (Iliad) to \"tlg002\" (Odyssey)\naddworkid(dropversion(urn), \"tlg002\") ","category":"page"},{"location":"guide/#URN-comparison","page":"The CtsUrn","title":"URN comparison","text":"","category":"section"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"In addition to comparing two CtsUrns for equality with ==, you can compare them for URN containment or URN similarity.","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"iliad1 =  CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1\")\nurncontains(iliad1, urn)","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"Two CtsUrns are similar if they are equal, or if either URN contains the other.","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"urnsimilar(iliad1, urn)","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"Note that this definition means the function is symmetric.","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"urnsimilar(iliad1, urn) == urnsimilar(urn, iliad1)","category":"page"},{"location":"guide/#Ranges","page":"The CtsUrn","title":"Ranges","text":"","category":"section"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"CtsUrns can identify passages of text as continuous ranges of citable passages.  ","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"openinglines = CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA:1.1-1.10\")\nisrange(openinglines)","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"The range_begin and range_end functions return string values.","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"range_begin(openinglines)","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"range_end(openinglines)","category":"page"},{"location":"guide/#Extended-identifiers-(\"subreferences\")","page":"The CtsUrn","title":"Extended identifiers (\"subreferences\")","text":"","category":"section"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"CTS URNs can include an extended identifier to point into the text content of a specific version of a passage. You can determine if a CtsUrn includes an extended identifier, extract the subreference, or drop it.","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"wrath = CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA:1.1@μῆνιν\")\nhassubref(wrath)","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"subref(wrath)","category":"page"},{"location":"guide/","page":"The CtsUrn","title":"The CtsUrn","text":"`example manip dropsubref(wrath) == urn","category":"page"},{"location":"apis/#API-documentation","page":"API documentation","title":"API documentation","text":"","category":"section"},{"location":"apis/","page":"API documentation","title":"API documentation","text":"","category":"page"},{"location":"apis/#Types","page":"API documentation","title":"Types","text":"","category":"section"},{"location":"apis/","page":"API documentation","title":"API documentation","text":"CtsUrn","category":"page"},{"location":"apis/#CitableText.CtsUrn","page":"API documentation","title":"CitableText.CtsUrn","text":"Implementation of the CTS URN. See  http://cite-architecture.org/ctsurn/.\n\n\n\n\n\n","category":"type"},{"location":"apis/#Functions","page":"API documentation","title":"Functions","text":"","category":"section"},{"location":"apis/","page":"API documentation","title":"API documentation","text":"namespace\nworkcomponent\npassagecomponent\npassagedepth\npassageparts\nworkdepth\nworkparts\nisrange\nrange_begin\nrange_end\nhassubref\nsubref\ndroppassage\naddpassage\ndropversion\naddversion\ndropexemplar\naddexemplar\ndropsubref\ncollapsePassageTo\ncollapsePassageBy\nworkcontains\npassagecontains\nurncontains\nurnsimilar\nurnequals","category":"page"},{"location":"apis/#CitableText.namespace","page":"API documentation","title":"CitableText.namespace","text":"namespace(u)\n\n\nExtract CTS namespace from a CtsUrn.\n\nExamples\n\njulia>\nnamespace(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA:1.1\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.workcomponent","page":"API documentation","title":"CitableText.workcomponent","text":"workcomponent(u)\n\n\nExtract work component from a CtsUrn.\n\nExamples\n\njulia>\nworkcomponent(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA:1.1\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.passagecomponent","page":"API documentation","title":"CitableText.passagecomponent","text":"passagecomponent(u)\n\n\nExtract passage component from a CtsUrn.\n\nExamples\n\njulia>\npassagecomponent(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA:1.1\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.passagedepth","page":"API documentation","title":"CitableText.passagedepth","text":"passagedepth(u)\n\n\nCount number of levels in the passage hierarchy of a CTS URN.\n\nExamples\n\njulia>\npassagedepth(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA:1.1\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.passageparts","page":"API documentation","title":"CitableText.passageparts","text":"passageparts(u)\n\n\nExtract an array with all the parts of the passage hierarchy of a CTS URN.\n\nExamples\n\njulia>\nworkparts(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA:1.1\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.workdepth","page":"API documentation","title":"CitableText.workdepth","text":"workdepth(u)\n\n\nCount number of levels in the work hierarchy of a CTS URN.\n\nExamples\n\njulia>\nworkdepth(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA:1.1\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.workparts","page":"API documentation","title":"CitableText.workparts","text":"workparts(u)\n\n\nExtract an array with all the parts of the work hierarchy of a CTS URN.\n\nExamples\n\njulia>\nworkparts(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA:1.1\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.isrange","page":"API documentation","title":"CitableText.isrange","text":"isrange(psg)\n\n\nTrue if passage component string is a range..\n\nExamples\n\njulia>\nisrange(\"1.1-1.10\"))\n\n\n\n\n\nisrange(u)\n\n\nTrue if passage component is a range..\n\nExamples\n\njulia>\nisrange(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1.1-1.10\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.range_begin","page":"API documentation","title":"CitableText.range_begin","text":"range_begin(s)\n\n\nExtract first range part from a passage component.\n\nExamples\n\njulia>\nrange_begin(\"1.1-1.10\"))\n\n\n\n\n\nrange_begin(u)\n\n\nExtract first range part from a CtsUrn.\n\nExamples\n\njulia>\nrange_begin(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1.1-1.10\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.range_end","page":"API documentation","title":"CitableText.range_end","text":"range_end(u)\n\n\nExtract second range part from a passage component.\n\nExamples\n\njulia>\nrange_end(\"1.1-1.10\"))\n\n\n\n\n\nrange_end(s)\n\n\nExtract second range part from a CtsUrn.\n\nExamples\n\njulia>\nrange_end(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1.1-1.10\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.hassubref","page":"API documentation","title":"CitableText.hassubref","text":"hassubref(psg)\n\n\nTrue if String has a subreference.\n\nExamples\n\njulia>\nhassubref(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1.1-1.10@μῆνιν\"))\n\n\n\n\n\nhassubref(u)\n\n\nTrue if CtsUrn has a subreference.\n\nExamples\n\njulia>\nhassubref(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1.1-1.10@μῆνιν\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.subref","page":"API documentation","title":"CitableText.subref","text":"subref(s)\n\n\nExtract subrerence part of a passage string.\n\nExamples\n\njulia>\nsubref(1.1-1.10@μῆνιν\")\n\n\n\n\n\nCreate a new CtsUrn dropping any extended reference in u.\n\nsubref(u)\n\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.droppassage","page":"API documentation","title":"CitableText.droppassage","text":"droppassage(u)\n\n\nCreate a new CtsUrn by dropping the passage component of a given CtsUrn.\n\nExamples\n\njulia>\ndroppassage(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1.1-1.10\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.addpassage","page":"API documentation","title":"CitableText.addpassage","text":"addpassage(u, psg)\n\n\nCreate a new CtsUrn by replacing any passage component in a given CtsUrn with a new passage component.\n\nExamples\n\njulia>\naddpassage(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1.1-1.10\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableBase.dropversion","page":"API documentation","title":"CitableBase.dropversion","text":"Urn subtypes should implement dropversion(urn::U)::U.\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableBase.addversion","page":"API documentation","title":"CitableBase.addversion","text":"Urn subtypes should implement addversion(urn::U, versionid)::U.  \n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.dropexemplar","page":"API documentation","title":"CitableText.dropexemplar","text":"dropexemplar(u)\n\n\nCreate a new CtsUrn by dropping the exemplar part of a given CtsUrn's work component.\n\nExamples\n\njulia>\ndropexemplar(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1.1-1.10\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.addexemplar","page":"API documentation","title":"CitableText.addexemplar","text":"addexemplar(u, ex)\n\n\nCreate a new CtsUrn by replacing any exemplar part of a given CtsUrn's work component with a new exemplar part.\n\nExamples\n\njulia>\naddexemplar(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1.1-1.10\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.dropsubref","page":"API documentation","title":"CitableText.dropsubref","text":"dropsubref(s)\n\n\nRemove any subreference substrings in a string. If s is a range expression, separately drop subreference from each of range-begin and range-end parts.\n\n\n\n\n\ndropsubref(u)\n\n\nRemove any subreferences from a CtsUrn.\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.collapsePassageTo","page":"API documentation","title":"CitableText.collapsePassageTo","text":"collapsePassageTo(u, count)\n\n\nCreate a new CtsUrn by collapsing a given CtsUrn's passage hierarchy to a given level.\n\nExamples\n\njulia>\ncollapsePassageTo(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1.1-1.10\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.collapsePassageBy","page":"API documentation","title":"CitableText.collapsePassageBy","text":"collapsePassageBy(u, n)\n\n\nCreate a new CtsUrn by collapsing a given CtsUrn's passage hierarchy by a given number of levels.\n\nExamples\n\njulia>\ncollapsePassageBy(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1.1-1.10\"))\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.workcontains","page":"API documentation","title":"CitableText.workcontains","text":"workcontains(urn1, urn2)\n\n\nTrue if work component of urn1 contains or is equal to work component of urn2.\n\nExamples\n\njulia>\nworkcontains(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1.1\")\nCtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1\")\n)\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableText.passagecontains","page":"API documentation","title":"CitableText.passagecontains","text":"passagecontains(urn1, urn2)\n\n\nTrue if passage component of urn1 contains or is equal to passage component of urn2.\n\nExamples\n\njulia>\npassagecontains(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1.1\")\nCtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1\")\n)\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableBase.urncontains","page":"API documentation","title":"CitableBase.urncontains","text":"URN-comparable objects must implement urncontains.\n\nurncontains(x, y)\n\n\n\n\n\n\nurncontains(urn1, urn2)\n\n\nTrue if urn1 contains urn2 according to URN logic.\n\nExamples\n\njulia>\nurncontains(CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA:1.1\")\nCtsUrn(\"urn:cts:greekLit:tlg0012.tlg001:1\")\n)\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableBase.urnsimilar","page":"API documentation","title":"CitableBase.urnsimilar","text":"URN-comparable objects must implement urnsimilar.\n\n\n\n\n\nurnsimilar(urn1, urn2)\n\n\nOverride urnsimilar function to be true if urn1 and urn1 are urnsimilar by URN logic.\n\n\n\n\n\n","category":"function"},{"location":"apis/#CitableBase.urnequals","page":"API documentation","title":"CitableBase.urnequals","text":"For subtypes of Urn, implement urnequals concretely.\n\nurnequals(u1, u2)\n\n\n\n\n\n\nURN-comparable objects must implement urnequals.\n\n\n\n\n\nurnequals(urn1, urn2)\n\n\nTrue if urn1 equals urn2.\n\n\n\n\n\n","category":"function"},{"location":"trait/#The-CitableTrait","page":"The CitableTrait","title":"The CitableTrait","text":"","category":"section"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"The CitableBase package defines a CitableTrait. For any Julia type, the value of the trait is identified by a singleton value returned by the citabletrait function.  By default, the value of the trait is  NotCitable().   (See a fuller discussion in the documentation for CitableBase).","category":"page"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"The CitableText package defines a singleton-type CitableByCtsUrn which you use as the value for CitableTrait for your own types of content identified by CtsUrns.  Here is a brief example.","category":"page"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"First define your type with a CtsUrn.","category":"page"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"using CitableBase, CitableText\n\nstruct TinyText <: Citable\n    urn::CtsUrn\n    txt::AbstractString\nend\nctsurn = CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA:\")\ntxt = \"The Iliad\"\ntiny = TinyText(ctsurn, txt)","category":"page"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"Override the citabletrait function when its parameter is the type TinyText, and return the concrete value CitableByCtsUrn().","category":"page"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"import CitableBase: citabletrait\nfunction citabletrait(::Type{TinyText}) \n    CitableByCtsUrn()\nend","category":"page"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"Check the result:","category":"page"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"citabletrait(typeof(tiny))","category":"page"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"Now you can use the citable function (from CitableBase) to check whether individual objects of your new type are citable.","category":"page"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"citable(tiny)","category":"page"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"At this point, you can also implement the required functions of the CitableTrait, urn and label.","category":"page"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"import CitableBase: urn\nfunction urn(tinyText::TinyText)\n    tinyText.urn\nend\nfunction label(tinyText::TinyText)\n    string(tinyText.urn) * \": \" * tinyText.txt\nend","category":"page"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"urn(tiny)","category":"page"},{"location":"trait/","page":"The CitableTrait","title":"The CitableTrait","text":"label(tiny)","category":"page"},{"location":"#CitableText","page":"Overview","title":"CitableText","text":"","category":"section"},{"location":"#Overview","page":"Overview","title":"Overview","text":"","category":"section"},{"location":"","page":"Overview","title":"Overview","text":"The CitableText package defines the CtsUrn, a URN notation for canonically citing texts.","category":"page"},{"location":"","page":"Overview","title":"Overview","text":"A CtsUrn can be instantiated from a string value. When displayed or printed, the string value is formatted within pointy brackets. ","category":"page"},{"location":"","page":"Overview","title":"Overview","text":"using CitableText\nurn = CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA:1.1\")","category":"page"},{"location":"","page":"Overview","title":"Overview","text":"There are many ways to malform the string value for a CtsUrn.  The CitableText module aspires to catch all of them.  (See the unit tests for numerous examples of the kinds of errors the CitableText module can identify.)","category":"page"},{"location":"","page":"Overview","title":"Overview","text":"One classic syntax error is to include too few top-level components in a CTS URN.  A CTS URN must have five components, even if the final passage component is empty.","category":"page"},{"location":"","page":"Overview","title":"Overview","text":"try \n    CtsUrn(\"urn:cts:greekLit:tlg0012.tlg001.msA\")\ncatch e\n    e\nend","category":"page"}]
}
